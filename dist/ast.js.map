{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/compile.js","src/index.js","src/parser-esnext.js"],"names":[],"mappings":"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","file":"ast.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nfunction Compile ( tree ) {\n\n\tif( !tree ) {\n\t\treturn;\n\t}\n\n\t// let ctx = compile(tree);\n\t// let body = 'return ' + tree.body\n\n\t// foo.bar + 2\n\t// ctx.body -> function body 'ctx.foo.bar + 2'\n\t// ctx.paths = ['foo.bar']\n\n\tvar links = [];\n\n\tpaths(tree, links);\n\n\tvar ctx = {\n\t\t/* jshint evil:true */\n\t\tbody: new Function('context', 'return ' + compile(tree)),\n\t\t/* jshint evil:false */\n\t\tpaths: links\n\t};\n\n\t// console.log(paths(tree));\n\n\t// console.log(ctx.body);\n\n\treturn ctx;\n}\n\nwindow.paths = paths;\nfunction objectPath ( node ) {\n\tvar path = node.object.value;\n\n\tif( node.property.type === 'Object' ) {\n\t\treturn path+'.'+objectPath(node.property);\n\t} else if ( node.property.type === 'Identifier' ) {\n\t\treturn path+'.'+node.property.value;\n\t}\n\n\treturn path;\n}\nfunction paths ( node, list ) {\n\n\tvar value;\n\n\tswitch (node.type) {\n\t\tcase 'String':\n\t\tcase 'Value':\n\t\tcase 'NewArray':\n\t\tcase 'Group':\n\t\tcase 'Literal':\n\t\t\tbreak;\n\t\tcase 'Identifier':\n\t\tcase 'UnaryExpression':\n\t\t\tlist.push(node.value);\n\t\t\tbreak;\n\t\tcase 'ConditionalExpression':\n\t\t\tpaths(node.test, list);\n\t\t\tpaths(node.consequent, list);\n\t\t\tpaths(node.alternate, list);\n\t\t\tbreak;\n\t\tcase 'BinaryExpression':\n\t\tcase 'LogicalExpression':\n\t\tcase 'AssignmentExpression':\n\t\t\tpaths(node.left, list);\n\t\t\tpaths(node.right, list);\n\t\t\tbreak;\n\t\tcase 'Callable':\n\t\t\tpaths(node.callable, list);\n\t\t\t(node.args || []).forEach(function (arg) {\n\t\t\t\tpaths(arg, list);\n\t\t\t});\n\t\t\tbreak;\n\t\tcase 'Object':\n\t\t\tlist.push(objectPath(node));\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\t// console.warn(node);\n\t\t\tthrow 'Not supported ' + node.type;\n\t}\n}\n\nfunction compile ( node, prefix ) {\n\n\tvar value;\n\n\tprefix = (prefix === undefined) ? true : prefix;\n\n\t// console.log('ke', node, prefix);\n\n\tswitch (node.type) {\n\t\tcase 'Value':\n\t\tcase 'Literal':\n\t\t\tvalue = node.value;\n\t\t\tbreak;\n\t\tcase 'String':\n\t\t\tvalue = '\"' + node.value + '\"';\n\t\t\tbreak;\n\t\tcase 'BinaryExpression':\n\t\tcase 'LogicalExpression':\n\t\t\tvalue = compile(node.left) + node.operator + compile(node.right);\n\t\t\tbreak;\n\t\tcase 'Identifier':\n\t\t\tif( prefix && node.value === 'this' ) prefix = false;\n\t\t\tvalue = (prefix ? 'context.' : '') + node.value;\n\t\t\tbreak;\n\t\tcase 'Object':\n\t\t\tvar propertyType = node.property.type;\n\t\t\tvalue = compile(node.object, prefix) +\n\t\t\t\t(propertyType === 'Object' || propertyType === 'Identifier' ? '.'+compile(node.property, false) : '['+compile(node.property, false)+']');\n\t\t\tbreak;\n\t\tcase 'UnaryExpression':\n\t\t\tvalue = node.operator + compile(node.value);\n\t\t\tbreak;\n\t\tcase 'NewArray':\n\t\t\tvalue = '['+(node.property || []).map(function ( node ) {\n\t\t\t\treturn compile(node);\n\t\t\t}).join(',')+']';\n\t\t\tbreak;\n\t\tcase 'NewObject':\n\t\t\tvalue = '{' + (node.properties || []).map(function ( node ) {\n\t\t\t\treturn compile(node);\n\t\t\t}).join(',') + '}';\n\t\t\tbreak;\n\t\tcase 'Property':\n\t\t\tvalue = compile(node.key, false) + ': ' + compile(node.value);\n\t\t\tbreak;\n\t\tcase 'Callable':\n\t\t\tvalue = compile(node.callable, prefix) + '(' + (node.args || []).map(function ( node ) {\n\t\t\t\treturn compile(node);\n\t\t\t}).join(',') + ')';\n\t\t\tbreak;\n\t\tcase 'Group':\n\t\t\tvalue = '('+compile(node.value)+')';\n\t\t\tbreak;\n\t\tcase 'ConditionalExpression':\n\t\t\tvalue = compile(node.test)+'?'+compile(node.consequent)+':'+compile(node.alternate);\n\t\t\tbreak;\n\t\tcase 'AssignmentExpression':\n\t\t\t// Using set method for Rocky.Object\n\t\t\tvalue = 'context.set(\\''+compile(node.left, false)+'\\', '+compile(node.right)+')';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn(node);\n\t\t\tthrow 'Not supported ' + node.type;\n\t}\n\n\treturn value;\n}\n","(function (context){\n\n\tlet Rocky = context.Rocky = context.Rocky || {};\n\n\tRocky.compile = require('./compile');\n\tRocky.parse = require('./parser-esnext');\n})(window);\n","export default parse;\n\nconst BINARY_OPERATORS = {\n\t'||': 1, '&&': 2, '|': 3,  '^': 4,  '&': 5,\n\t'==': 6, '!=': 6, '===': 6, '!==': 6,\n\t'<': 7,  '>': 7,  '<=': 7,  '>=': 7,\n\t'<<':8,  '>>': 8, '>>>': 8,\n\t'+': 9, '-': 9,\n\t'*': 10, '/': 10, '%': 10\n};\n\nconst LITERALS = {\n\t'true': true,\n\t'false': false,\n\t'null': null\n\t// 'undefined': undefined\n};\n\nconst IS_NUMBER_START = '-.0123456789';\nconst IS_NUMBER = '0123456789.e';\n\nclass Parser {\n\n\t/**\n\t * Parse given expression\n\t *\n\t * @return {Object} Tokens\n\t */\n\tparse ( expression ) {\n\n\t\tthis.text = expression;\n\t\tthis.length = expression.length;\n\n\t\t// Parse index\n\t\tthis.index = -1;\n\t\t// Current character\n\t\tthis.current = '';\n\n\t\tthis.read();\n\n\t\treturn this.parseExpression();\n\t}\n\n\t// -- Private method -- //\n\tread () {\n\t\tthis.index += 1;\n\n\t\tif(this.index >= this.length) {\n\t\t\tthis.current = '';\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.current = this.text[this.index];\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Peak ahead.(or behind)\n\t * Does not move this.index\n\t * @return\n\t */\n\tpeek ( steps = 1 ) {\n\t\treturn this.text[this.index + steps] || '';\n\t}\n\n\t/**\n\t * Keep reading till we find a usable char\n\t */\n\tmoveon () {\n\t\twhile( this.is(\" \\t\\n\") && this.read() ) {}\n\t}\n\n\t/**\n\t *\n\t */\n\tskip ( steps ) {\n\t\t// -1 cause read does +1\n\t\tthis.index += steps - 1;\n\n\t\treturn this.read();\n\t}\n\n\t/**\n\t * Check if char is in given string\n\t */\n\tis ( chars ) {\n\t\treturn this.current && chars.indexOf(this.current) !== -1;\n\t}\n\n\t// Parsers\n\tparseToken () {\n\t\tif( !this.current ) {\n\t\t\tthrow new ParseError('Unexpected end');\n\t\t}\n\n\t\tif( this.is(IS_NUMBER_START) && this.peek() !== '-' ) {\n\t\t\treturn this.parseNumber();\n\t\t}\n\n\t\tif( this.is('\"\\'') ) {\n\t\t\treturn this.parseString();\n\t\t}\n\n\t\tif( this.is('(') ) {\n\t\t\treturn this.parseNested();\n\t\t}\n\n\t\tif( this.is('!-+') ) {\n\t\t\treturn this.parseUnaryExpression();\n\t\t}\n\n\t\tif( this.isIdentifierStart() ) {\n\t\t\treturn this.parseVariable();\n\t\t}\n\n\t\tthrow new ParseError('Could not parse');\n\t}\n\tparseExpression () {\n\t\tlet left = this.parseToken();\n\t\tlet operator = this.parseOperator();\n\n\t\tif( !this.current ) {\n\t\t\treturn left;\n\t\t}\n\n\t\tif( operator ) {\n\t\t\treturn this.parseBinaryExpression(left, operator);\n\t\t}\n\n\t\tif( this.is('?') ) {\n\t\t\treturn this.parseConditionalExpression(left);\n\t\t}\n\n\t\tif( this.is('=') ) {\n\t\t\treturn this.parseAssignmentExpression(left);\n\t\t}\n\n\t\treturn left;\n\t\t// throw new ParseError('Errororrr '+this.current);\n\t}\n\t/**\n\t *\n\t */\n\tparseArray () {}\n\tparseAssignmentExpression ( left ) {\n\n\t\tthis.read();\n\t\tthis.moveon();\n\n\t\treturn {\n\t\t\ttype: 'Assignment',\n\t\t\tleft: left,\n\t\t\tright: this.parseExpression()\n\t\t};\n\t}\n\tparseBinaryExpression ( _left, _operator ) {\n\t\t// function argument is like a var..\n\t\tlet left = _left;\n\t\tlet operator = _operator;\n\n\t\tif( !operator ) {\n\t\t\tthrow new ParseError('Euh errorrrr');\n\t\t}\n\n\t\tlet right = this.parseToken();\n\n\t\tif( !right ) {\n\t\t\tthrow new ParseError('Invalid token after '+operator.value);\n\t\t}\n\n\t\tlet stack = [left, operator, right];\n\n\t\t/* jshint boss: true */\n\t\tfor ( let operator, node; operator = this.parseOperator(); ) {\n\n\t\t\twhile ( stack.length > 2 && operator.precedence <= stack[stack.length - 2].precedence ) {\n\n\t\t\t\tlet right = stack.pop();\n\t\t\t\tlet operator = stack.pop();\n\t\t\t\tlet left = stack.pop();\n\n\t\t\t\tnode = this.createOperatorExpression(operator.value, left, right);\n\n\t\t\t\tstack.push(node);\n\t\t\t}\n\n\t\t\tnode = this.parseToken();\n\n\t\t\tif( !node ) {\n\t\t\t\tthrow new ParseError('Invalid token after '+operator.value);\n\t\t\t}\n\n\t\t\tstack.push(operator, node);\n\t\t}\n\n\t\tlet i = stack.length - 1;\n\t\tlet node = stack[i];\n\n\t\twhile ( i > 1 ) {\n\n\t\t\tnode = this.createOperatorExpression(stack[i - 1].value, stack[i - 2], node);\n\t\t\ti -= 2;\n\t\t}\n\n\t\treturn node;\n\t}\n\tparseCallable ( node ) {\n\n\t\tlet args = [];\n\n\t\t// TODO(Saar) Code cleanup\n\t\tthis.read();\n\t\tthis.moveon();\n\n\t\tif( this.current === ')' ) {\n\t\t\tthis.read();\n\t\t\tthis.moveon();\n\t\t} else {\n\t\t\targs = this.parseCallableArguments();\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'Callable',\n\t\t\tcallable: node,\n\t\t\targs: args\n\t\t};\n\t}\n\tparseCallableArguments () {\n\t\tvar args = [],\n\t\t\tnode;\n\n\t\t/* jshint boss: true */\n\t\twhile( node = this.parseToken() ) {\n\n\t\t\targs.push(node);\n\n\t\t\tif( this.is(',') ) {\n\t\t\t\tthis.read();\n\t\t\t\tthis.moveon();\n\t\t\t}\n\t\t\t// End of callable args\n\t\t\telse if( this.is(')') ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif( !this.is(')') ) {\n\t\t\tthrow new ParseError('Unexpected callable end');\n\t\t}\n\n\t\tthis.read();\n\t\tthis.moveon();\n\n\t\treturn args;\n\t}\n\tparseIdentifier () {\n\t\tvar value = this.current;\n\n\t\twhile ( this.read() && this.isIdentifierPart() ) {\n\t\t\tvalue += this.current;\n\t\t}\n\n\t\tthis.moveon();\n\n\t\treturn LITERALS.hasOwnProperty(value) ?\n\t\t\t{\n\t\t\t\ttype: 'Literal',\n\t\t\t\tvalue: LITERALS[value]\n\t\t\t} :\n\t\t\t{\n\t\t\t\ttype: 'Identifier',\n\t\t\t\tvalue: value\n\t\t\t};\n\t}\n\t// parseLogicalExpression () {}\n\t// Or group?\n\tparseNested () {\n\t\tthis.read();\n\t\tthis.moveon();\n\n\t\tlet node = this.parseExpression();\n\n\t\tif( !this.is(')') ) {\n\t\t\tthrow new ParseError('Missing `)`');\n\t\t}\n\n\t\tthis.read();\n\t\tthis.moveon();\n\n\t\treturn {\n\t\t\ttype: 'Nested',\n\t\t\tvalue: node\n\t\t};\n\t}\n\tparseMemberExpression () {\n\t\treturn {\n\t\t\ttype: 'Member',\n\t\t\tcomputed: false, // True when shoud use []\n\t\t\tobject: {},\n\t\t\tproperty: {}\n\t\t};\n\t}\n\tparseOperator () {\n\t\tvar one = this.current,\n\t\t\ttwo = one+this.peek(1),\n\t\t\tthree = two+this.peek(2),\n\t\t\tvalue;\n\n\t\tif( BINARY_OPERATORS.hasOwnProperty(three) ) {\n\t\t\tvalue = three;\n\t\t\tthis.skip(3);\n\t\t}\n\t\telse if ( BINARY_OPERATORS.hasOwnProperty(two) ) {\n\t\t\tvalue = two;\n\t\t\tthis.skip(2);\n\t\t}\n\t\telse if ( BINARY_OPERATORS.hasOwnProperty(one) ) {\n\t\t\tvalue = one;\n\t\t\tthis.skip(1);\n\t\t}\n\n\t\tthis.moveon();\n\n\t\tif( !value ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: value,\n\t\t\tprecedence: BINARY_OPERATORS[value]\n\t\t};\n\t}\n\t/**\n\t * 1, 1.234, 123, -1, -1.234\n\t */\n\tparseNumber () {\n\t\tvar value = this.current;\n\n\t\twhile( this.read() ) {\n\n\t\t\tif( !this.is(IS_NUMBER) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvalue += this.current;\n\t\t}\n\n\t\tif( !value || value === '-' || value === '+' ) {\n\t\t\tthrow new ParseError('Invalid number '+value);\n\t\t}\n\n\t\tthis.moveon();\n\n\t\treturn {\n\t\t\ttype: 'Number',\n\t\t\tvalue: parseFloat(value)\n\t\t};\n\t}\n\tparseObject () {}\n\tparseString () {\n\t\tvar value = '',\n\t\t\tqoute = this.current;\n\n\t\twhile ( this.read() ) {\n\n\t\t\t// Escaped qoutes\n\t\t\tif( this.current === '\\\\' && this.peek() === qoute ) {\t\t\t\tvalue += qoute;\n\t\t\t\tthis.skip(1);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif( this.current === qoute ) {\n\t\t\t\tthis.read();\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif( !this.current ) {\n\t\t\t\tthrow new ParseError('Could not parse String');\n\t\t\t}\n\n\t\t\tvalue += this.current;\n\t\t}\n\n\t\tthis.moveon();\n\n\t\treturn {\n\t\t\ttype: 'String',\n\t\t\tvalue: value\n\t\t};\n\t}\n\tparseUnaryExpression () {\n\t\tlet value = this.current;\n\n\t\tthis.read();\n\n\t\t// -- ++\n\t\tif( this.is('-+') ) {\n\t\t\tvalue += this.current;\n\t\t\tthis.read();\n\t\t}\n\n\t\tif( !this.peek(1) ) {\n\t\t\tthrow new ParseError();\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'Unary',\n\t\t\toperator: value,\n\t\t\tvalue: this.parseExpression()\n\t\t};\n\t}\n\tparseVariable () {\n\n\t\tvar node = this.parseIdentifier();\n\n\t\t// Member [ or .\n\t\tif( this.is('.[') ) {\n\t\t\treturn this.parseMemberExpression(node);\n\t\t}\n\n\t\t// Callable\n\t\tif( this.is('(') ) {\n\t\t\treturn this.parseCallable(node);\n\t\t}\n\n\t\treturn node;\n\t}\n\n\t// Helpers\n\tisIdentifierStart () {\n\t\tvar chrCode = this.current.charCodeAt(0);\n\n\t\treturn (chrCode === 36) || (chrCode === 95) || // `$` and `_`\n\t\t\t(chrCode >= 65 && chrCode <= 90) || // A...Z\n\t\t\t(chrCode >= 97 && chrCode <= 122); // a...z\n\t}\n\n\tisIdentifierPart () {\n\t\tvar chrCode = this.current.charCodeAt(0);\n\n\t\treturn (chrCode === 36) || (chrCode === 95) || // `$` and `_`\n\t\t\t(chrCode >= 65 && chrCode <= 90) || // A...Z\n\t\t\t(chrCode >= 97 && chrCode <= 122) || // a...z\n\t\t\t(chrCode >= 48 && chrCode <= 57); // 0...9\n\t}\n\n\tcreateOperatorExpression ( operator, left, right ) {\n\t\tlet type = (operator === '||' || operator === '&&') ? 'Logical' : 'Binary';\n\n\t\treturn {\n\t\t\ttype: type,\n\t\t\toperator: operator,\n\t\t\tleft: left,\n\t\t\tright: right\n\t\t};\n\t}\n}\n\nfunction parse (expression) {\n\tlet parser = new Parser(); // Could be outside created (singleton)\n\n\treturn parser.parse(expression.trim());\n}\n\nfunction ParseError( message ) {\n\n\tthis.name = 'ParseError';\n\tthis.message = message || '';\n\tthis.stack = (new Error()).stack;\n}\n\nParseError.prototype = Error.prototype;\n"]}